<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Activity 4.3</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>

<body>
<div id="tmp" class="card template" style="width: 18rem;"><!-- 12 -->
  <div class="card-body">
    <h5 id="cTitle" class="card-title">Card title</h5>
    <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
    <a href="#" class="card-link">Card link</a>
    <a href="#" class="card-link">Another link</a>
  </div>
</div>
    
    
    <script>
        let apiEndpoint = "https://data.cityofchicago.org/resource/xzkq-xp2w.json?$LIMIT=100";
        
        fetch(apiEndpoint)
        .then(response=>{return response.json()})
        .then(json=>{for(let val of json){
            /*
            var par = document.createElement("p");
            var text = document.createTextNode(val["name"]+" Dept: "+val["department"]);
            par.appendChild(text);
            document.body.appendChild(par);
            */
            var itm = document.getElementById("tmp");
            var cln=itm.cloneNode(true);
            cln.classList.remove("template");
            var text = document.createTextNode(val["name"]+",  "+val["department"]+",  "+val["annual_salary"]);

            
            cln.appendChild(text);

            /*var cln = itm[0].cloneNode(true);
            cln.classList.remove("template");*/
            document.body.appendChild(cln);
            
        }})
        .catch(err=>alert(err))
        
    </script>
</body>

</html>